<!DOCTYPE html>
<html lang="en">
<head>
  <title>Harvested: A New Ruby API Wrapper - Connection Required</title>

  <meta charset="utf-8">
  <meta name="author" content="Zach Moazeni">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link href="/css/main.min.css?v=4" media="screen" rel="stylesheet" type="text/css" />
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,600,600i,700" rel="stylesheet">
  <link rel="alternate" type="application/atom+xml" title="Connection Required" href="/feed/atom/" />
</head>
<body>
  <header>
    <nav class="row align-center">
      <div class="small-12 columns">
        <a class="brand text-center" href="/"><svg id="svg3542" height="21.913mm" width="168.74mm" version="1.1" viewBox="0 0 597.91431 77.643914">
 <defs id="defs3544">
  <filter id="filter6021" style="color-interpolation-filters:sRGB">
   <feFlood id="feFlood6023" result="flood" flood-opacity=".49804" flood-color="rgb(0,0,0)"/>
   <feComposite id="feComposite6025" operator="in" result="composite1" in2="SourceGraphic" in="flood"/>
   <feGaussianBlur id="feGaussianBlur6027" stdDeviation="3" result="blur" in="composite1"/>
   <feOffset id="feOffset6029" result="offset" dx="6" dy="6"/>
   <feComposite id="feComposite6031" operator="over" result="composite2" in2="offset" in="SourceGraphic"/>
  </filter>
 </defs>
 <g id="layer1" transform="translate(-623.9 295.03)">
  <g id="g6014" transform="translate(-153.57 1274.5)" filter="url(#filter6021)">
   <text id="text3365-6-5-6" style="word-spacing:0px;letter-spacing:0px" font-weight="600" font-size="50px" font-style="italic" y="-1510.3744" x="824.00177" font-family="&apos;Open Sans&apos;" xml:space="preserve"><tspan id="tspan3373-3-1-62" font-weight="600" font-size="50px" font-style="italic" y="-1510.3744" x="824.00177" font-family="&apos;Open Sans&apos;">Connec   ion </tspan></text>
   <path id="path3395-8-6-2-7" d="m1031.5-1538.9-15.848 0.076c-0.3921 0-0.6466-0.5346-0.4683-0.9871l8.7598-22.221c0.2634-0.6681-0.3814-1.314-0.8142-0.8157l-27.274 31.402c-0.35829 0.4126-0.13598 1.1803 0.34336 1.1855l14.468 0.1604c0.3772 0 0.6274 0.508 0.4739 0.9545l-7.3598 21.41c-0.2282 0.6636 0.3997 1.2649 0.8225 0.7874l27.243-30.763c0.3656-0.4127 0.139-1.1922-0.346-1.1899z"/>
   <text id="text3365-9-6-9-7" style="word-spacing:0px;letter-spacing:0px" font-weight="600" font-size="50px" font-style="italic" y="-1510.3744" x="1120.1641" font-family="&apos;Open Sans&apos;" xml:space="preserve"><tspan id="tspan3373-5-4-7-6" font-weight="600" font-size="50px" font-style="italic" y="-1510.3744" x="1120.1641" font-family="&apos;Open Sans&apos;">Required</tspan></text>
  </g>
 </g>
</svg>
 <span>Connection Required</span></a>
      </div>

      <a href="#" class="about" data-toggle="offCanvas" onclick="return false">about</a>
    </nav>
  </header>

  <div class="off-canvas position-left" id="offCanvas" data-off-canvas data-transition="overlap">
    <div class="sidebar">
  <button class="close-button" aria-label="Close menu" type="button" data-close>
    <span aria-hidden="true">&times;</span>
  </button>

  <div class="row">
    <h2 class="columns">About Zach</h2>
  </div>

  <div class="row">
    <div class="columns">
      <div class="row">
        <p class="columns">Zach is a software developer who has worked on a range of projects. He currently writes Ruby by day for <a href="https://www.getharvest.com/">Harvest</a> and plays with other languages by night (currently Haskell, Scala, Clojure, and Rust). He knows how to laugh at himself and loves to ship software. He is a father of two wonderful kids and a husband to a fantastic wife.</p>
      </div>

      <div class="row">
        <p class="columns">
          <a href="mailto:zach.moazeni@gmail.com">email</a> ϟ <a href="https://github.com/zmoazeni">github</a> ϟ <a href="https://twitter.com/zmoazeni">twitter</a> ϟ <a href="https://www.linkedin.com/in/zmoazeni/">linkedin</a>
        </p>
      </div>

      <h3 class="row columns">Notable Projects</h3>

      <div class="row">
        <ul class="columns">
          <li><a href="http://zmoazeni.github.io/csscss/">csscss</a></li>
          <li><a href="http://zmoazeni.github.io/harvested/">harvested</a></li>
          <li><a href="http://zmoazeni.github.io/gitspective/">gitspective</a></li>
        </ul>
      </div>
    </div>
  </div>

  <div class="row columns">
    <img src="/uploads/me.jpg" alt="Picture of Zach" />
  </div>
</div>

  </div>

  <main class="off-canvas-content" data-off-canvas-content>
    
      <article>
        <div class="header">
          <div class="row">
            <h1 class="column">Harvested: A New Ruby API Wrapper</h1>
          </div>

          <div class="row">
            <p class="column"><time datetime="2010-04-11T18:17:02+00:00">2010-04-11</time></p>
          </div>
        </div>

        <div class="row align-left">
          <div class="column content">
            <p>I’ve used <a href="http://www.getharvest.com/">Harvest Time Tracking</a> for well over 3 years, and they have a quality product. They have also had a published API for quite some time. The past couple weeks I’ve been working on Ruby API wrapper for it, and today I’ve pushed the first release.</p>

<h2 id="harvested">Harvested</h2>

<p>Harvested is a thin wrapper around their API based on HTTParty and HappyMapper.</p>

<p>You can go grab and install it through RubyGems (make sure the Gemcutter source is set):</p>

<div class="highlighter-rouge"><pre class="highlight"><code> gem install harvested
</code></pre>
</div>

<p>A couple quick examples of how to use this API:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>require "harvested"
harvest = Harvest.hardy_client('yoursubdomain', 'yourusername', 'userpassword', :ssl =&gt; false)

# Print out all users, clients, and projects on the account
puts "Users:"
harvest.users.all.each {|u| p u }

puts "Clients:"
harvest.clients.all.each {|c| p c }

puts "Projects:"
harvest.projects.all.each {|project| p project }
</code></pre>
</div>

<p>More examples are included in <code class="highlighter-rouge">/examples</code> along with the gem.</p>

<h2 id="standard-client-vs-hardy-client">Standard Client vs Hardy Client</h2>

<p>The guys at Harvest built a great API, but there are always dangers in writing code that depends on an API. For example, HTTP Timeouts, Occasional Bad Gateways, and Rate Limiting issues need to be accounted for.</p>

<p>There are two clients available in the gem, <code class="highlighter-rouge">client</code> and <code class="highlighter-rouge">hardy_client</code>. If you want to deal with the issues manually, feel free to use <code class="highlighter-rouge">client</code> otherwise <code class="highlighter-rouge">hardy_client</code> provides a friendly wrapper that retries errors and waits for rate limit resets.</p>

<h2 id="links">Links</h2>

<ul>
  <li><a href="http://rdoc.info/projects/zmoazeni/harvested">Harvested Docs</a></li>
  <li><a href="http://rubygems.org/gems/harvested">Gem on Gemcutter</a></li>
  <li><a href="http://github.com/zmoazeni/harvested">Source Code on Github</a></li>
  <li><a href="http://www.getharvest.com/api">Harvest API Docs</a></li>
  <li><a href="http://groups.google.com/group/harvested">Mailing List for Harvested</a></li>
</ul>

<h2 id="update---4122010">Update - 4/12/2010</h2>

<p>I started documenting the codebase, so I added a link to the <a href="http://rdoc.info">rdoc.info</a> documentation.</p>

          </div>
        </div>
      </article>
    
  </main>

  <footer class="row align-center text-center">
    <p class="column">&copy; 2007-2018 Zach Moazeni</p>
  </footer>

  <script src="/js/main.min.js"></script>
</body>
</html>

